"use strict";document.addEventListener("DOMContentLoaded",function(){var n,i,r,s,t,a,o,l,c,d,u,v,L,m,f,p,E,b=document.querySelector(".form");b&&(n=function(e){return""!==e.value.trim()},i=function(e){!function(e){for(var t=e;!t.classList.contains("input-block");)t=t.parentElement;t.classList.contains("error")&&(t.classList.remove("error"),e.removeEventListener("input",i))}(e.currentTarget),t(e.currentTarget)},r=function(e){for(var t=e;!t.classList.contains("input-block");)t=t.parentElement;t.classList.add("error"),e.addEventListener("input",i)},s=function(e,t){for(var n=e;!n.classList.contains("input-block");)n=n.parentElement;var i=n.querySelector(".errors-block");i||((i=document.createElement("div")).classList.add("errors-block"),n.appendChild(i)),i.innerHTML=t},t=function(e){for(var t=e;!t.classList.contains("input-block");)t=t.parentElement;var n=t.querySelector(".errors-block");n&&""!==n.innerHTML&&(n.innerHTML="")},a=function(e){if(!e||n(d)){var t="";return n(d)||(t="Field is not valid"),""!==t&&(r(d),s(d,t)),""!==t}},o=function(e){if(!e||n(u)){var t="";return n(u)?!(0<=u.value.indexOf("+"))&&E.test(u.value)||(t="Format is not valid"):t="Field is not valid",""!==t&&(r(u),s(u,t)),""!==t}},l=function(e){if(!e||n(v)){var t="";return n(v)||(t="Field is not valid"),""!==t&&(r(v),s(v,t)),""!==t}},c=function(e){if(!e||n(L)){var t="";return n(L)||(t="Field is not valid"),""!==t&&(r(L),s(L,t)),""!==t}},d=b.querySelector('input[name="fname"]'),u=b.querySelector('input[name="email"]'),v=b.querySelector('input[name="phone"]'),L=b.querySelector('textarea[name="message"]'),m=b.querySelector(".form-btn"),f=document.querySelector(".success"),p=!1,E=/^[-.+_a-z0-9]+@(?:[a-z0-9][-a-z0-9]+\.)+[a-z]{2,6}$/i,d&&(d.addEventListener("input",function(){var e=d.value.slice(0,40);d.value=e,n(d)&&1<=e.trim().length?d.classList.add("valid"):d.classList.contains("valid")&&d.classList.remove("valid")}),d.addEventListener("blur",function(){a(!0)})),u&&(u.addEventListener("input",function(){n(u)&&u.value.indexOf("+")<0&&E.test(u.value)?u.classList.add("valid"):u.classList.contains("valid")&&u.classList.remove("valid")}),u.addEventListener("blur",function(){o(!0)})),v&&(v.addEventListener("input",function(){var e=v.value.slice(0,40);v.value=e,n(v)&&1<=e.trim().length?v.classList.add("valid"):v.classList.contains("valid")&&v.classList.remove("valid")}),v.addEventListener("blur",function(){l(!0)})),L&&(L.addEventListener("input",function(){var e=L.value.slice(0,200);L.value=e,n(L)&&1<=e.trim().length?L.classList.add("valid"):L.classList.contains("valid")&&L.classList.remove("valid")}),L.addEventListener("blur",function(){c(!0)})),b.addEventListener("submit",function(e){var t;e.preventDefault(),p||m.classList.contains("waiting")||(t=!0,d&&a()&&(t=!1),u&&o()&&(t=!1),v&&l()&&(t=!1),L&&c()&&(t=!1),t&&jQuery.ajax({type:b.getAttribute("method"),url:b.getAttribute("action"),dataType:"json",data:jQuery(b).serialize(),beforeSend:function(){p=!0,m&&m.classList.add("waiting")},complete:function(){m&&m.classList.remove("waiting")},success:function(){f.classList.add("opened"),setTimeout(function(){f.classList.remove("opened")},1e3),b.reset()},error:function(){f.classList.add("opened"),setTimeout(function(){f.classList.remove("opened")},1e3),b.reset()}}))}));function y(){g.classList.remove("error"),S.innerHTML="",S.classList.add("hide"),T.classList.add("hide")}var g=document.querySelector("#phone"),S=document.querySelector("#error-msg"),T=document.querySelector("#valid-msg"),h=["Invalid number","Invalid country code","Too short","Too long","Invalid number"],q=window.intlTelInput(g,{utilsScript:"./intlTel/js/utils.js"});g.addEventListener("blur",function(){var e;y(),g.value.trim()&&(q.isValidNumber()?T.classList.remove("hide"):(g.classList.add("error"),e=q.getValidationError(),S.innerHTML=h[e],S.classList.remove("hide")))}),g.addEventListener("change",y),g.addEventListener("keyup",y)});
//# sourceMappingURL=script.min.js.map
